// Copyright (c) 2018-2020,  Zhirnov Andrey. For more information see 'LICENSE'

#pragma once

#include "stl/Algorithms/StringUtils.h"

namespace AE::STL
{

	//
	// String Parser
	//

	struct StringParser final
	{
	public:
			static void  ToEndOfLine	(StringView str, INOUT size_t &pos);
			static void  ToBeginOfLine	(StringView str, INOUT size_t &pos);
			static void  ToNextLine		(StringView str, INOUT size_t &pos);
			static void  ToPrevLine		(StringView str, INOUT size_t &pos);

		ND_ static bool  IsBeginOfLine	(StringView str, size_t pos);
		ND_ static bool  IsEndOfLine	(StringView str, size_t pos);

		ND_ static size_t CalculateNumberOfLines (StringView str);

			static bool  MoveToLine (StringView str, INOUT size_t &pos, size_t lineNumber);

			static void  ReadCurrLine (StringView str, INOUT size_t &pos, OUT StringView &result);
			static void  ReadLineToEnd (StringView str, INOUT size_t &pos, OUT StringView &result);

			static bool  ReadTo (StringView str, StringView endSymbol, INOUT size_t &pos, OUT StringView &result);

			static bool  ReadString (StringView str, INOUT size_t &pos, OUT StringView &result);
			
			static void  DivideLines (StringView str, OUT Array<StringView> &lines);

			static void  Tokenize (StringView str, const char divisor, OUT Array<StringView> &tokens);
	};


}	// AE::STL
